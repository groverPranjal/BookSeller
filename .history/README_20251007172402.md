# BookSeller

A full-stack e-commerce application for buying and selling books, featuring user authentication, cart management, secure payments via Stripe, and an admin panel for inventory and order management.

## Features

### User Features
- **User Authentication**: Register and login with JWT-based authentication
- **Browse Books**: View a curated collection of books with categories, ratings, and descriptions
- **Shopping Cart**: Add, update, and remove items from cart (works offline and syncs when logged in)
- **Secure Checkout**: Integrated Stripe payment gateway for online payments, with Cash on Delivery option
- **Order Tracking**: View order history and status
- **Responsive Design**: Mobile-friendly interface built with TailwindCSS

### Admin Features
- **Book Management**: Add new books with image uploads, edit details, and delete books
- **Inventory Control**: View, filter, and sort books by category, price, or rating
- **Order Management**: Track all orders, update order status, search orders by customer or book
- **Dashboard Analytics**: View order statistics and counts

## Tech Stack

### Backend
- **Node.js** with **Express.js** for server-side logic
- **MongoDB** with **Mongoose** for database management
- **JWT** for authentication
- **Stripe** for payment processing
- **Multer** for file uploads
- **Bcrypt** for password hashing
- **CORS** for cross-origin requests

### Frontend (User)
- **React** with **Vite** for fast development
- **React Router** for client-side routing
- **TailwindCSS** for styling
- **Axios** for API calls
- **Lucide React** for icons

### Admin Panel
- **React** with **Vite**
- **TailwindCSS** for consistent styling
- **Axios** for backend communication

## Project Structure

```
BookSeller/
├── BackEnd/                 # Node.js/Express server
│   ├── config/
│   │   └── db.js           # MongoDB connection
│   ├── controllers/        # Route handlers
│   │   ├── bookController.js
│   │   ├── cartController.js
│   │   ├── orderController.js
│   │   └── userController.js
│   ├── middleware/
│   │   └── auth.js         # JWT authentication middleware
│   ├── models/             # Mongoose schemas
│   │   ├── bookModel.js
│   │   ├── cartModel.js
│   │   ├── orderModel.js
│   │   └── userModel.js
│   ├── routes/             # API routes
│   │   ├── bookRoute.js
│   │   ├── cartRoute.js
│   │   ├── orderRoute.js
│   │   └── userRoute.js
│   ├── uploads/            # Uploaded book images
│   ├── package.json
│   └── server.js           # Main server file
├── FrontEnd/               # User-facing React app
│   ├── public/
│   ├── src/
│   │   ├── assets/         # Images and dummy data
│   │   ├── CartContext/    # Cart state management
│   │   ├── Components/     # Reusable UI components
│   │   ├── pages/          # Page components
│   │   ├── App.jsx
│   │   └── main.jsx
│   ├── package.json
│   └── vite.config.js
├── admin/                  # Admin panel React app
│   ├── src/
│   │   ├── assets/
│   │   ├── components/     # Admin components
│   │   ├── App.jsx
│   │   └── main.jsx
│   ├── package.json
│   └── vite.config.js
└── README.md
```

## Installation & Setup

### Prerequisites
- Node.js (v16 or higher)
- MongoDB (local or Atlas)
- Stripe account for payments

### Backend Setup
1. Navigate to the BackEnd directory:
   ```bash
   cd BackEnd
   ```

2. Install dependencies:
   ```bash
   npm install
   ```

3. Create a `.env` file in the BackEnd directory with the following variables:
   ```
   JWT_SECRET=your_jwt_secret_here
   STRIPE_SECRET_KEY=your_stripe_secret_key
   ```

4. Update the MongoDB connection string in `config/db.js` if needed.

5. Start the server:
   ```bash
   npm start
   ```
   The server will run on `http://localhost:4000`.

### Frontend Setup
1. Navigate to the FrontEnd directory:
   ```bash
   cd FrontEnd
   ```

2. Install dependencies:
   ```bash
   npm install
   ```

3. Start the development server:
   ```bash
   npm run dev
   ```
   The app will run on `http://localhost:5173`.

### Admin Panel Setup
1. Navigate to the admin directory:
   ```bash
   cd admin
   ```

2. Install dependencies:
   ```bash
   npm install
   ```

3. Start the development server:
   ```bash
   npm run dev
   ```
   The admin panel will run on `http://localhost:5174`.

## Usage

### For Users
1. **Browse Books**: Visit the home page to see featured books and bestsellers.
2. **Register/Login**: Create an account or log in to access cart persistence and checkout.
3. **Add to Cart**: Click "Add to Cart" on any book to add it to your shopping cart.
4. **Checkout**: Proceed to checkout, enter shipping details, and choose payment method.
5. **Track Orders**: View your order history and current status.

### For Admins
1. **Add Books**: Use the "Add New Book" form to add books with images and details.
2. **Manage Inventory**: View all books, filter by category, sort by price/rating, and delete books.
3. **Handle Orders**: View all orders, search by customer or book, and update order status.

## API Endpoints

### User Routes (`/api/user`)
- `POST /register` - Register a new user
- `POST /login` - Login user

### Book Routes (`/api/book`)
- `POST /` - Add a new book (admin only, with image upload)
- `GET /` - Get all books
- `DELETE /:id` - Delete a book by ID (admin only)

### Cart Routes (`/api/cart`) - Authenticated
- `POST /add/` - Add item to cart
- `GET /` - Get user's cart
- `PUT /update` - Update cart item quantity
- `DELETE /remove/:bookId` - Remove item from cart
- `DELETE /clear` - Clear entire cart

### Order Routes (`/api/order`)
- `POST /` - Create new order (authenticated)
- `GET /confirm` - Confirm payment (authenticated)
- `GET /` - Get all orders (admin only)
- `GET /user` - Get user's orders (authenticated)
- `GET /:id` - Get order by ID
- `PUT /:id` - Update order status (admin only)
- `DELETE /:id` - Delete order (admin only)

## Database Models

### User
- name (String, required)
- email (String, required, unique)
- password (String, required, hashed)

### Book
- title (String, required)
- author (String, required)
- price (Number, required)
- image (String)
- rating (Number, default: 4)
- category (String, required)
- description (String)

### Cart
- user (ObjectId, ref: User, required, unique)
- items: [{ book (ObjectId, ref: Book), quantity (Number) }]

### Order
- orderId (String, required, unique)
- user (ObjectId, ref: User)
- shippingAddress (Object with fullName, email, phone, street, city, state, zipCode)
- books: [{ book (ObjectId), title, author, image, price, quantity }]
- shippingCharge, totalAmount, taxAmount, finalAmount
- paymentMethod ("Online Payment" or "Cash on Delivery")
- paymentStatus ("Unpaid" or "Paid")
- orderStatus ("Pending", "Processing", "Shipped", "Delivered", "Cancelled")

## Contributing

1. Fork the repository
2. Create a feature branch: `git checkout -b feature-name`
3. Make your changes and commit: `git commit -m 'Add feature'`
4. Push to the branch: `git push origin feature-name`
5. Submit a pull request

## License

This project is licensed under the ISC License.
